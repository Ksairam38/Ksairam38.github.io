<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Facebook Login</title>
</head>
<body>
    <h2>Add Facebook Login to your webpage</h2>
    <p id="profile"></p>

    <script>
        // Load the Facebook SDK asynchronously
        (function (d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s); js.id = id;
            js.src = "https://connect.facebook.net/en_US/sdk.js";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));

        // Function to handle Facebook login
        function launchFacebookLogin() {
            // Add your Facebook App ID here
            var appId = '2690570337772800';

            // Conversion tracking code (if needed)
            if (typeof fbq !== 'undefined') {
                fbq('trackCustom', 'FacebookLoginStart', { appId: appId });
            }

            // Initialize the Facebook SDK
            window.fbAsyncInit = function() {
                FB.init({
                    appId: appId,
                    autoLogAppEvents: true,
                    xfbml: true,
                    version: 'v15.0'
                });

                // Check if the user is already logged in
                FB.getLoginStatus(function(response) {
                    if (response.status === 'connected') {
                        // User is already logged in, you can get their information here
                        FB.api('/me', function(response) {
                            console.log('User information:', response);
                        });
                    } else {
                        // User is not logged in, prompt them to log in
                        FB.login(function(response) {
                            if (response.authResponse) {
                                // User logged in successfully
                                console.log('User authenticated');
                            } else {
                                console.log('User canceled login or did not fully authorize.');
                            }
                        }, { scope: 'email' }); // Specify the permissions you need
                    }
                });
            };
        }
    </script>

    <button onclick="launchFacebookLogin()" style="background-color: #1877f2; border: 0; border-radius: 4px; color: #fff; cursor: pointer; font-family: Helvetica, Arial, sans-serif; font-size: 16px; font-weight: bold; height: 40px; padding: 0 24px;">Login with Facebook</button>
</body>
</html>
