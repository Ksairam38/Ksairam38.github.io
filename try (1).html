<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Facebook Login</title>
    <!-- Facebook Pixel Code -->
    <script>
        !function(f,b,e,v,n,t,s)
        {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
        n.callMethod.apply(n,arguments):n.queue.push(arguments)};
        if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
        n.queue=[];t=b.createElement(e);t.async=!0;
        t.src=v;s=b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t,s)}(window, document,'script',
        'https://connect.facebook.net/en_US/fbevents.js');
        fbq('init', '2690570337772800'); // Replace with your Pixel ID
        fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none"
        src="https://www.facebook.com/tr?id=2690570337772800&ev=PageView&noscript=1" // Replace with your Pixel ID
    /></noscript>
    <!-- End Facebook Pixel Code -->
</head>
<body>
    <h2>Add Facebook Login to your webpage</h2>
    <p id="profile"></p>

    <script>
        window.fbAsyncInit = function() {
            FB.init({
                appId: '2690570337772800', // Replace with your app ID
                autoLogAppEvents: true,
                xfbml: true,
                version: 'v15.0' // Replace with the latest Graph API version
            });

            // Load the Facebook SDK asynchronously
            (function(d, s, id) {
                var js, fjs = d.getElementsByTagName(s)[0];
                if (d.getElementById(id)) return;
                js = d.createElement(s); js.id = id;
                js.src = "https://connect.facebook.net/en_US/sdk.js";
                fjs.parentNode.insertBefore(js, fjs);
            }(document, 'script', 'facebook-jssdk'));
        };

        // Function to handle Facebook login
        function launchWhatsAppSignup() {
            // Conversion tracking code
           

            // Launch Facebook login
            FB.login(function(response) {
                if (response.authResponse) {
                    const accessToken = response.authResponse.accessToken;
                    // Use this token to call the debug_token API and get the shared WABA's ID
                } else {
                    console.log('User cancelled login or did not fully authorize.');
                }
            }, {
                scope: 'whatsapp_business_management,whatsapp_business_messaging',
                extras: {
                    feature: 'whatsapp_embedded_signup',
                    setup: {
                        // Prefilled data can go here
                    }
                }
            });
        }
    </script>

    <button onclick="launchWhatsAppSignup()" style="background-color: #1877f2; border: 0; border-radius: 4px; color: #fff; cursor: pointer; font-family: Helvetica, Arial, sans-serif; font-size: 16px; font-weight: bold; height: 40px; padding: 0 24px;">Login with Facebook</button>
</body>
</html>
